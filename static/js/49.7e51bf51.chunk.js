"use strict";(self.webpackChunkreact_movies=self.webpackChunkreact_movies||[]).push([[49],{173:function(e,t,r){r.d(t,{Z:function(){return s}});var n="Container_container__BWGcJ",a=r(184),s=function(e){var t=e.children;return(0,a.jsx)("div",{className:n,children:t})}},1852:function(e,t,r){var n=r(4165),a=r(5861),s=r(4569),i=r.n(s);function c(){return(c=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"/movie/popular",params:{page:t}},e.next=4,i()(r);case 4:return a=e.sent,s=a.data,e.abrupt("return",s);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function o(){return(o=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"/movie/top_rated",params:{page:t}},e.next=4,i()(r);case 4:return a=e.sent,s=a.data,e.abrupt("return",s);case 9:return e.prev=9,e.t0=e.catch(0),console.log("error",{error:e.t0}),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function l(){return(l=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"/movie/upcoming",params:{page:t}},e.next=4,i()(r);case 4:return a=e.sent,s=a.data,e.abrupt("return",s);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function u(){return(u=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a,s,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={url:"search/movie",params:{query:t,page:r}},e.next=4,i()(a);case 4:return s=e.sent,c=s.data,e.abrupt("return",c);case 9:return e.prev=9,e.t0=e.catch(0),console.log("error",{error:e.t0}),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function p(){return(p=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"movie/".concat(t)},e.next=4,i()(r,t);case 4:return a=e.sent,s=a.data,e.abrupt("return",s);case 9:return e.prev=9,e.t0=e.catch(0),console.log("error",{error:e.t0}),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function d(){return(d=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"movie/".concat(t,"/credits")},e.next=4,i()(r,t);case 4:return a=e.sent,s=a.data,e.abrupt("return",s.cast);case 9:return e.prev=9,e.t0=e.catch(0),console.log("error",{error:e.t0}),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function v(){return(v=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"movie/".concat(t,"/videos")},e.next=4,i()(r,t);case 4:return a=e.sent,s=a.data,e.abrupt("return",s.results);case 9:return e.prev=9,e.t0=e.catch(0),console.log("error",{error:e.t0}),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function f(){return(f=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"movie/".concat(t,"/images")},e.next=4,i()(r,t);case 4:return a=e.sent,s=a.data,e.abrupt("return",s.results);case 9:return e.prev=9,e.t0=e.catch(0),console.log("error",{error:e.t0}),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}i().defaults.baseURL="https://api.themoviedb.org/3/",i().defaults.params={api_key:"a7722589dc29fac056c18bf39b029797",language:"en-US"};var m={getPopularMovies:function(e){return c.apply(this,arguments)},getTopRatedMovies:function(e){return o.apply(this,arguments)},getUpcomingMovies:function(e){return l.apply(this,arguments)},getMoviesByQuery:function(e,t){return u.apply(this,arguments)},getMovieById:function(e){return p.apply(this,arguments)},getCastInfo:function(e){return d.apply(this,arguments)},getMovieVideo:function(e){return v.apply(this,arguments)},getMovieImages:function(e){return f.apply(this,arguments)}};t.Z=m},2019:function(e,t){t.Z={IDLE:"idle",PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"}},3441:function(e,t,r){r.r(t),r.d(t,{default:function(){return fe}});var n=r(2982),a=r(885),s=r(2791),i=r(6871),c=r(4805),o=r(2019),l=r(1852),u=r(7758),p=r(173),d=r(4164),v="PopUp_modaloverlay__moAxw",f="PopUp_modal__EdV28",m=r(184),h=document.querySelector("#modal-root"),_=function(e){var t=e.onClose,r=e.children;(0,s.useEffect)((function(){return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}));var n=function(e){"Escape"===e.code&&t()};return(0,d.createPortal)((0,m.jsx)("div",{className:v,onClick:function(e){e.currentTarget===e.target&&t()},children:(0,m.jsx)("div",{className:f,children:r})}),h)},x=r(7762),j="Trailer_iframe__dcjgv",g=r.p+"static/media/YouTube.4bde010940277341b250.jpg";function b(){return(0,m.jsx)("div",{children:(0,m.jsx)("img",{src:g,alt:"nothing-found",style:{height:540,width:960}})})}function y(){var e=(0,i.UO)().movieId,t=(0,s.useState)(null),r=(0,a.Z)(t,2),n=r[0],c=r[1],u=(0,s.useState)(o.Z.IDLE),p=(0,a.Z)(u,2),d=p[0],v=p[1],f=(0,s.useState)(null),h=(0,a.Z)(f,2),_=h[0],g=h[1];return(0,s.useEffect)((function(){l.Z.getMovieVideo(e).then((function(e){var t,r=[],n=(0,x.Z)(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;"Trailer"===a.type&&r.push(a)}}catch(s){n.e(s)}finally{n.f()}c(r),v(o.Z.RESOLVED)})).catch((function(e){g(e),v(o.Z.REJECTED)}))}),[e]),(0,m.jsxs)(m.Fragment,{children:[d===o.Z.RESOLVED&&(0,m.jsxs)("ul",{children:[n.slice(0,1).map((function(e){return(0,m.jsx)("li",{children:(0,m.jsx)("iframe",{className:j,src:"https://www.youtube.com/embed/".concat(e.key),title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})},e.id)})),(0,m.jsx)("li",{children:0===n.length&&(0,m.jsx)(b,{})})]}),d===o.Z.REJECTED&&(0,m.jsx)("p",{children:_.message})]})}var D,Z,E="Cast_title__FSZf0",M="Cast_block__AvRfa",w="Cast_item__1Wkyx",N="Cast_cast__yZeik";function k(){var e=(0,i.UO)().movieId,t=(0,s.useState)(null),r=(0,a.Z)(t,2),n=r[0],c=r[1],u=(0,s.useState)(null),p=(0,a.Z)(u,2),d=p[0],v=p[1],f=(0,s.useState)(o.Z.IDLE),h=(0,a.Z)(f,2),_=h[0],x=h[1];return(0,s.useEffect)((function(){l.Z.getCastInfo(e).then((function(e){c(e),x(o.Z.RESOLVED)})).catch((function(e){console.log(e),v(e),x(o.Z.REJECTED)}))}),[e,d]),(0,m.jsxs)(m.Fragment,{children:[_===o.Z.PENDING,_===o.Z.REJECTED,_===o.Z.RESOLVED&&(0,m.jsxs)("div",{className:M,children:[(0,m.jsx)("h3",{className:E,children:"Cast"}),(0,m.jsx)("ul",{className:N,children:n.slice(0,8).map((function(e){return(0,m.jsx)("li",{className:w,children:e.original_name},e.id)}))})]})]})}var S=["title","titleId"];function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C.apply(this,arguments)}function O(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function F(e,t){var r=e.title,n=e.titleId,a=O(e,S);return s.createElement("svg",C({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",ref:t,"aria-labelledby":n},a),r?s.createElement("title",{id:n},r):null,D||(D=s.createElement("path",{fill:"#FF3D00",d:"M43.2,33.9c-0.4,2.1-2.1,3.7-4.2,4c-3.3,0.5-8.8,1.1-15,1.1c-6.1,0-11.6-0.6-15-1.1c-2.1-0.3-3.8-1.9-4.2-4C4.4,31.6,4,28.2,4,24c0-4.2,0.4-7.6,0.8-9.9c0.4-2.1,2.1-3.7,4.2-4C12.3,9.6,17.8,9,24,9c6.2,0,11.6,0.6,15,1.1c2.1,0.3,3.8,1.9,4.2,4c0.4,2.3,0.9,5.7,0.9,9.9C44,28.2,43.6,31.6,43.2,33.9z"})),Z||(Z=s.createElement("path",{fill:"#FFF",d:"M20 31L20 17 32 24z"})))}var I=s.forwardRef(F),L=(r.p,"BackButton_button__g-Bo5"),R=r(3313);function T(){var e=(0,i.s0)();return(0,m.jsx)("button",{onClick:function(){return e(-1)},type:"button",className:L,children:(0,m.jsx)(R.JHF,{})})}var B="DesktopMovieData_wrapper__8WFEU",J="DesktopMovieData_posterWrapper__U5fQ-",U="DesktopMovieData_description__lvUpe",V="DesktopMovieData_image__dF3zj",P="DesktopMovieData_infoWrapper__kbbSw",G="DesktopMovieData_movieTitle__eEwd-",W="DesktopMovieData_infoYear__+kt9V",Y="DesktopMovieData_infoScore__dl-3J",z="DesktopMovieData_overlayScore__AljKm",A="DesktopMovieData_info__fWvnm",K="DesktopMovieData_title__ZhLgK",Q="DesktopMovieData_item__nz7bK",q="DesktopMovieData_genre__3bnYp",H="DesktopMovieData_youBtn__eg8Ly";function X(e){var t=e.movie,r=e.onClick,n=e.add;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(T,{}),(0,m.jsxs)("div",{className:B,children:[(0,m.jsxs)("div",{className:J,children:[(0,m.jsx)("img",{className:V,src:t.src,alt:t.title}),(0,m.jsx)("div",{className:z,children:(0,m.jsx)("p",{style:{color:function(e){var t=e.toFixed();return t>=8?"#7dd87d":t<8&&t>=5?"#eec60a":"#eb2632"}(t.score)},className:Y,children:t.score.toFixed()})})]}),(0,m.jsxs)("div",{className:U,children:[(0,m.jsx)("h2",{className:G,children:t.title}),(0,m.jsx)("button",{type:"button",onClick:r,className:H,children:(0,m.jsx)(I,{})}),(0,m.jsx)("button",{type:"button",onClick:n,children:"Add"}),(0,m.jsxs)("div",{className:P,children:[(0,m.jsx)("h3",{className:K,children:"Year"}),(0,m.jsx)("p",{className:W,children:t.year.split("").slice(0,4).join("")}),(0,m.jsx)(k,{}),(0,m.jsx)("h3",{className:K,children:"About"}),(0,m.jsx)("p",{className:A,children:t.overview}),(0,m.jsx)("h3",{className:K,children:"Genres"}),(0,m.jsx)("ul",{className:q,children:t.genres.map((function(e){return(0,m.jsx)("li",{className:Q,children:e.name},e.id)}))})]})]})]})]})}var $="MobileMovieData_wrapper__gv40O",ee="MobileMovieData_posterWrapper__6Sw7k",te="MobileMovieData_image__evaf5",re="MobileMovieData_sideBox__7fUQ8",ne="MobileMovieData_infoWrapper__ZLGTI",ae="MobileMovieData_movieTitle__1FnLF",se="MobileMovieData_infoYear__MpDzK",ie="MobileMovieData_infoScore__Ktrn7",ce="MobileMovieData_overlayScore__fBr3s",oe="MobileMovieData_info__iOowT",le="MobileMovieData_title__ENaJR",ue="MobileMovieData_item__aXl9+",pe="MobileMovieData_genre__OmMVQ",de="MobileMovieData_youBtn__w+9zY";function ve(e){var t=e.movie,r=e.onClick;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(T,{}),(0,m.jsxs)("div",{className:$,children:[(0,m.jsxs)("div",{className:ee,children:[(0,m.jsx)("img",{className:te,src:t.src,alt:t.title}),(0,m.jsx)("div",{className:ce,children:(0,m.jsx)("p",{style:{color:function(e){var t=e.toFixed();return t>=8?"#7dd87d":t<8&&t>=5?"#eec60a":"#eb2632"}(t.score)},className:ie,children:t.score.toFixed()})})]}),(0,m.jsxs)("div",{className:re,children:[(0,m.jsx)("button",{type:"button",onClick:r,className:de,children:(0,m.jsx)(I,{})}),(0,m.jsx)("h3",{className:le,children:"Year"}),(0,m.jsx)("p",{className:se,children:t.year.split("").slice(0,4).join("")}),(0,m.jsx)("h3",{className:le,children:"Genres"}),(0,m.jsx)("ul",{className:pe,children:t.genres.map((function(e){return(0,m.jsx)("li",{className:ue,children:e.name},e.id)}))})]})]}),(0,m.jsxs)("div",{className:ne,children:[(0,m.jsx)("h2",{className:ae,children:t.title}),(0,m.jsx)(k,{}),(0,m.jsx)("h3",{className:le,children:"About"}),(0,m.jsx)("p",{className:oe,children:t.overview})]})]})}var fe=function(){var e=(0,i.UO)().movieId,t=(0,s.useState)([]),r=(0,a.Z)(t,2),d=r[0],v=r[1],f=(0,s.useState)(null),h=(0,a.Z)(f,2),x=h[0],j=h[1],g=(0,s.useState)(null),b=(0,a.Z)(g,2),D=b[0],Z=b[1],E=(0,s.useState)(o.Z.IDLE),M=(0,a.Z)(E,2),w=M[0],N=M[1],k=(0,s.useState)(!1),S=(0,a.Z)(k,2),C=S[0],O=S[1],F=(0,c.useMediaQuery)({query:"(max-width: 767px)"});(0,s.useEffect)((function(){localStorage.setItem("items",JSON.stringify(d))}),[d]),(0,s.useEffect)((function(){N(o.Z.PENDING),l.Z.getMovieById(e).then((function(e){var t=e.poster_path,r=e.original_title,n=e.vote_average,a=e.overview,s=e.release_date,i=e.genres;j({src:t?"https://image.tmdb.org/t/p/w500".concat(t):"".concat(u),title:r,year:s,score:n,overview:a,genres:i}),N(o.Z.RESOLVED)})).catch((function(e){console.log(e),Z(e),N(o.Z.REJECTED)}))}),[e,D]);var I=function(){O(!C)};return(0,m.jsxs)(p.Z,{children:[w===o.Z.PENDING,w===o.Z.REJECTED,w===o.Z.RESOLVED&&(0,m.jsxs)(m.Fragment,{children:[F&&(0,m.jsx)(ve,{movie:x,onClick:I}),!F&&(0,m.jsx)(X,{movie:x,onClick:I,add:function(){v([x].concat((0,n.Z)(d)))}}),C&&(0,m.jsx)(_,{onClose:I,children:(0,m.jsx)(y,{})})]})]})}},7758:function(e,t,r){e.exports=r.p+"static/media/noimage.6e24877a189479ece38e.jpg"}}]);
//# sourceMappingURL=49.7e51bf51.chunk.js.map