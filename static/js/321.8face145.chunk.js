"use strict";(self.webpackChunkreact_movies=self.webpackChunkreact_movies||[]).push([[321],{173:function(e,t,r){r.d(t,{Z:function(){return i}});var n="Container_container__BWGcJ",a=r(184),i=function(e){var t=e.children;return(0,a.jsx)("div",{className:n,children:t})}},1852:function(e,t,r){var n=r(4165),a=r(5861),i=r(4569),s=r.n(i);function o(){return(o=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"/movie/popular",params:{page:t}},e.next=4,s()(r);case 4:return a=e.sent,i=a.data,e.abrupt("return",i);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function c(){return(c=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"/movie/top_rated",params:{page:t}},e.next=4,s()(r);case 4:return a=e.sent,i=a.data,e.abrupt("return",i);case 9:return e.prev=9,e.t0=e.catch(0),console.log("error",{error:e.t0}),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function l(){return(l=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"/movie/upcoming",params:{page:t}},e.next=4,s()(r);case 4:return a=e.sent,i=a.data,e.abrupt("return",i);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function u(){return(u=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a,i,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={url:"search/movie",params:{query:t,page:r}},e.next=4,s()(a);case 4:return i=e.sent,o=i.data,e.abrupt("return",o);case 9:return e.prev=9,e.t0=e.catch(0),console.log("error",{error:e.t0}),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function p(){return(p=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"movie/".concat(t)},e.next=4,s()(r,t);case 4:return a=e.sent,i=a.data,e.abrupt("return",i);case 9:return e.prev=9,e.t0=e.catch(0),console.log("error",{error:e.t0}),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function d(){return(d=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"movie/".concat(t,"/credits")},e.next=4,s()(r,t);case 4:return a=e.sent,i=a.data,e.abrupt("return",i.cast);case 9:return e.prev=9,e.t0=e.catch(0),console.log("error",{error:e.t0}),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function v(){return(v=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"movie/".concat(t,"/videos")},e.next=4,s()(r,t);case 4:return a=e.sent,i=a.data,e.abrupt("return",i.results);case 9:return e.prev=9,e.t0=e.catch(0),console.log("error",{error:e.t0}),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function m(){return(m=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"movie/".concat(t,"/images")},e.next=4,s()(r,t);case 4:return a=e.sent,i=a.data,e.abrupt("return",i.backdrops);case 9:return e.prev=9,e.t0=e.catch(0),console.log("error",{error:e.t0}),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}s().defaults.baseURL="https://api.themoviedb.org/3/",s().defaults.params={api_key:"a7722589dc29fac056c18bf39b029797",language:"en-US",include_image_language:"en,null"};var f={getPopularMovies:function(e){return o.apply(this,arguments)},getTopRatedMovies:function(e){return c.apply(this,arguments)},getUpcomingMovies:function(e){return l.apply(this,arguments)},getMoviesByQuery:function(e,t){return u.apply(this,arguments)},getMovieById:function(e){return p.apply(this,arguments)},getCastInfo:function(e){return d.apply(this,arguments)},getMovieVideo:function(e){return v.apply(this,arguments)},getMovieImages:function(e){return m.apply(this,arguments)}};t.Z=f},1097:function(e,t,r){r.d(t,{IR:function(){return i},Wm:function(){return s},cj:function(){return o},on:function(){return a}});var n="favourites",a=function(){return JSON.parse(localStorage.getItem(n)||"[]")},i=function(e){var t=a();t.unshift(e),localStorage.setItem(n,JSON.stringify(t))},s=function(e){var t=a().filter((function(t){return t.id!==e}));localStorage.setItem(n,JSON.stringify(t))},o=function(e){return!!a().find((function(t){return t.id===e}))}},2019:function(e,t){t.Z={IDLE:"idle",PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"}},9746:function(e,t,r){r.r(t),r.d(t,{default:function(){return ee}});var n=r(885),a=r(2791),i=r(6871),s=r(4805),o=r(2019),c=r(1852),l=r(7758),u=r(173),p=r(4164),d="PopUp_modaloverlay__moAxw",v="PopUp_modal__EdV28",m=r(184),f=document.querySelector("#modal-root"),_=function(e){var t=e.onClose,r=e.children;(0,a.useEffect)((function(){return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}));var n=function(e){"Escape"===e.code&&t()};return(0,p.createPortal)((0,m.jsx)("div",{className:d,onClick:function(e){e.currentTarget===e.target&&t()},children:(0,m.jsx)("div",{className:v,children:r})}),f)},h=r(7762),x="Trailer_iframe__dcjgv",g=r.p+"static/media/YouTube.4bde010940277341b250.jpg";function j(){return(0,m.jsx)("div",{children:(0,m.jsx)("img",{src:g,alt:"nothing-found",style:{height:540,width:960}})})}function D(){var e=(0,i.UO)().movieId,t=(0,a.useState)(null),r=(0,n.Z)(t,2),s=r[0],l=r[1],u=(0,a.useState)(o.Z.IDLE),p=(0,n.Z)(u,2),d=p[0],v=p[1],f=(0,a.useState)(null),_=(0,n.Z)(f,2),g=_[0],D=_[1];return(0,a.useEffect)((function(){c.Z.getMovieVideo(e).then((function(e){var t,r=[],n=(0,h.Z)(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;"Trailer"===a.type&&r.push(a)}}catch(i){n.e(i)}finally{n.f()}l(r),v(o.Z.RESOLVED)})).catch((function(e){D(e),v(o.Z.REJECTED)}))}),[e]),(0,m.jsxs)(m.Fragment,{children:[d===o.Z.RESOLVED&&(0,m.jsxs)("ul",{children:[s.slice(0,1).map((function(e){return(0,m.jsx)("li",{children:(0,m.jsx)("iframe",{className:x,src:"https://www.youtube.com/embed/".concat(e.key),title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})},e.id)})),(0,m.jsx)("li",{children:0===s.length&&(0,m.jsx)(j,{})})]}),d===o.Z.REJECTED&&(0,m.jsx)("p",{children:g.message})]})}var b="Cast_title__FSZf0",Z="Cast_block__AvRfa",E="Cast_item__1Wkyx",y="Cast_cast__yZeik";function M(){var e=(0,i.UO)().movieId,t=(0,a.useState)(null),r=(0,n.Z)(t,2),s=r[0],l=r[1],u=(0,a.useState)(null),p=(0,n.Z)(u,2),d=p[0],v=p[1],f=(0,a.useState)(o.Z.IDLE),_=(0,n.Z)(f,2),h=_[0],x=_[1];return(0,a.useEffect)((function(){c.Z.getCastInfo(e).then((function(e){l(e),x(o.Z.RESOLVED)})).catch((function(e){console.log(e),v(e),x(o.Z.REJECTED)}))}),[e,d]),(0,m.jsxs)(m.Fragment,{children:[h===o.Z.PENDING,h===o.Z.REJECTED,h===o.Z.RESOLVED&&(0,m.jsxs)("div",{className:Z,children:[(0,m.jsx)("h3",{className:b,children:"Cast"}),(0,m.jsx)("ul",{className:y,children:s.slice(0,8).map((function(e){return(0,m.jsx)("li",{className:E,children:e.original_name},e.id)}))})]})]})}var N=r(6856),w=r(1097),k={wrapper:"DesktopMovieData_wrapper__8WFEU",posterWrapper:"DesktopMovieData_posterWrapper__U5fQ-",image:"DesktopMovieData_image__dF3zj",description:"DesktopMovieData_description__lvUpe",movieTitle:"DesktopMovieData_movieTitle__eEwd-",infoYear:"DesktopMovieData_infoYear__+kt9V",infoScore:"DesktopMovieData_infoScore__dl-3J",overlayScore:"DesktopMovieData_overlayScore__AljKm",info:"DesktopMovieData_info__fWvnm",title:"DesktopMovieData_title__ZhLgK",item:"DesktopMovieData_item__nz7bK",genre:"DesktopMovieData_genre__3bnYp",submenu:"DesktopMovieData_submenu__dcy5n",submenuItem:"DesktopMovieData_submenuItem__d+ix9",activeSubmenuItem:"DesktopMovieData_activeSubmenuItem__qGusd",btnBox:"DesktopMovieData_btnBox__UqCte",youBtn:"DesktopMovieData_youBtn__eg8Ly",favBtn:"DesktopMovieData_favBtn__4QevO"};function S(e){var t=e.movie,r=e.onToggle,i=(0,a.useState)(!1),s=(0,n.Z)(i,2),o=s[0],c=s[1];return(0,a.useEffect)((function(){c((0,w.cj)(t.id))}),[t.id]),(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:k.wrapper,children:[(0,m.jsxs)("div",{className:k.posterWrapper,children:[(0,m.jsx)("img",{className:k.image,src:t.src,alt:t.title}),(0,m.jsx)("div",{className:k.overlayScore,children:(0,m.jsx)("p",{style:{color:function(e){var t=e.toFixed();return t>=8?"#7dd87d":t<8&&t>=5?"#eec60a":"#eb2632"}(t.score)},className:k.infoScore,children:t.score.toFixed()})})]}),(0,m.jsxs)("div",{className:k.description,children:[(0,m.jsx)("h2",{className:k.movieTitle,children:t.title}),(0,m.jsxs)("div",{className:k.btnBox,children:[(0,m.jsx)("button",{type:"button",onClick:r,className:k.youBtn,children:"Trailer"}),(0,m.jsx)("button",{type:"button",className:k.favBtn,onClick:function(){o?(0,w.Wm)(t.id):(0,w.IR)(t),c(!o)},children:o?(0,m.jsx)(N.Yqy,{}):(0,m.jsx)(N.iqB,{})})]}),(0,m.jsxs)("div",{className:k.infoWrapper,children:[(0,m.jsx)("h3",{className:k.title,children:"Year"}),(0,m.jsx)("p",{className:k.infoYear,children:t.year.split("").slice(0,4).join("")}),(0,m.jsx)(M,{}),(0,m.jsx)("h3",{className:k.title,children:"About"}),(0,m.jsx)("p",{className:k.info,children:t.overview}),(0,m.jsx)("h3",{className:k.title,children:"Genres"}),(0,m.jsx)("ul",{className:k.genre,children:t.genres.map((function(e){return(0,m.jsx)("li",{className:k.item,children:e.name},e.id)}))})]})]})]})})}var I="MobileMovieData_wrapper__gv40O",C="MobileMovieData_posterWrapper__6Sw7k",R="MobileMovieData_sideWrapper__-ML9w",T="MobileMovieData_image__evaf5",L="MobileMovieData_infoWrapper__ZLGTI",B="MobileMovieData_movieTitle__1FnLF",O="MobileMovieData_infoYear__MpDzK",F="MobileMovieData_infoScore__Ktrn7",U="MobileMovieData_overlayScore__fBr3s",J="MobileMovieData_info__iOowT",V="MobileMovieData_title__ENaJR",W="MobileMovieData_item__aXl9+",Y="MobileMovieData_genre__OmMVQ",q="MobileMovieData_btnBox__UESRD",G="MobileMovieData_youBtn__w+9zY",P="MobileMovieData_favBtn__YqtHE";function K(e){var t=e.movie,r=e.onClick,i=(0,a.useState)(!1),s=(0,n.Z)(i,2),o=s[0],c=s[1];return(0,a.useEffect)((function(){c((0,w.cj)(t.id))}),[t.id]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:I,children:[(0,m.jsxs)("div",{className:C,children:[(0,m.jsx)("img",{className:T,src:t.src,alt:t.title}),(0,m.jsx)("div",{className:U,children:(0,m.jsx)("p",{style:{color:function(e){var t=e.toFixed();return t>=8?"#7dd87d":t<8&&t>=5?"#eec60a":"#eb2632"}(t.score)},className:F,children:t.score.toFixed()})})]}),(0,m.jsxs)("div",{className:R,children:[(0,m.jsxs)("div",{className:q,children:[(0,m.jsx)("button",{type:"button",onClick:r,className:G,children:"Trailer"}),(0,m.jsx)("button",{type:"button",className:P,onClick:function(){o?(0,w.Wm)(t.id):(0,w.IR)(t),c(!o)},children:o?(0,m.jsx)(N.Yqy,{}):(0,m.jsx)(N.iqB,{})})]}),(0,m.jsx)("h3",{className:V,children:"Year"}),(0,m.jsx)("p",{className:O,children:t.year.split("").slice(0,4).join("")}),(0,m.jsx)("h3",{className:V,children:"Genres"}),(0,m.jsx)("ul",{className:Y,children:t.genres.map((function(e){return(0,m.jsx)("li",{className:W,children:e.name},e.id)}))})]})]}),(0,m.jsxs)("div",{className:L,children:[(0,m.jsx)("h2",{className:B,children:t.title}),(0,m.jsx)(M,{}),(0,m.jsx)("h3",{className:V,children:"About"}),(0,m.jsx)("p",{className:J,children:t.overview})]})]})}var A=r(2815),Q=r(2558),z=r.p+"static/media/no-image.d09e503817275d6b9eb4.jpg",H="ImagesSwiper_swiper__mRuhU",X="ImagesSwiper_slide__wUEmK";r(2532),r(4928),r(2326);function $(){var e=(0,i.UO)().movieId,t=(0,a.useState)(null),r=(0,n.Z)(t,2),s=r[0],l=r[1],u=(0,a.useState)(null),p=(0,n.Z)(u,2),d=p[0],v=p[1],f=(0,a.useState)(o.Z.IDLE),_=(0,n.Z)(f,2),h=_[0],x=_[1];return(0,a.useEffect)((function(){c.Z.getMovieImages(e).then((function(e){l(e),x(o.Z.RESOLVED)})).catch((function(e){console.log(e),v(e),x(o.Z.REJECTED)}))}),[e,d]),(0,m.jsxs)(m.Fragment,{children:[h===o.Z.PENDING,h===o.Z.REJECTED,h===o.Z.RESOLVED&&(0,m.jsx)(m.Fragment,{children:s&&(0,m.jsx)(A.tq,{spaceBetween:30,pagination:{clickable:!0},mousewheel:!0,keyboard:!0,modules:[Q.tl,Q.Gk,Q.N1],className:H,children:s.slice(0,8).map((function(e){e.vote_average;var t=e.file_path;return(0,m.jsx)(A.o5,{className:X,children:(0,m.jsx)("img",{src:t?"https://image.tmdb.org/t/p/original".concat(t):"".concat(z),alt:"movie backdrop"})},t)}))})})]})}var ee=function(){var e=(0,i.UO)().movieId,t=(0,a.useState)(null),r=(0,n.Z)(t,2),p=r[0],d=r[1],v=(0,a.useState)(null),f=(0,n.Z)(v,2),h=f[0],x=f[1],g=(0,a.useState)(o.Z.IDLE),j=(0,n.Z)(g,2),b=j[0],Z=j[1],E=(0,a.useState)(!1),y=(0,n.Z)(E,2),M=y[0],N=y[1],w=(0,s.useMediaQuery)({query:"(max-width: 767px)"});(0,a.useEffect)((function(){Z(o.Z.PENDING),c.Z.getMovieById(e).then((function(e){var t=e.poster_path,r=e.original_title,n=e.vote_average,a=e.overview,i=e.release_date,s=e.genres,c=e.id;d({id:c,src:t?"https://image.tmdb.org/t/p/w500".concat(t):"".concat(l),title:r,year:i,score:n,overview:a,genres:s}),Z(o.Z.RESOLVED)})).catch((function(e){console.log(e),x(e),Z(o.Z.REJECTED)}))}),[e,h]);var k=function(){N(!M)};return(0,m.jsxs)(u.Z,{children:[b===o.Z.PENDING,b===o.Z.REJECTED,b===o.Z.RESOLVED&&(0,m.jsxs)(m.Fragment,{children:[M&&(0,m.jsx)(_,{onClose:k,children:(0,m.jsx)(D,{})}),w&&(0,m.jsx)(K,{movie:p,onToggle:k}),!w&&(0,m.jsx)(S,{movie:p,onToggle:k}),(0,m.jsx)($,{})]})]})}},7758:function(e,t,r){e.exports=r.p+"static/media/noimage.6e24877a189479ece38e.jpg"}}]);
//# sourceMappingURL=321.8face145.chunk.js.map