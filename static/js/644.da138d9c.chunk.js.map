{"version":3,"file":"static/js/644.da138d9c.chunk.js","mappings":"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","sources":["webpack://react-movies/./src/components/LoadBtn/LoadBtn.module.scss?8d37","components/LoadBtn/LoadBtn.jsx","webpack://react-movies/./src/components/Loader/Loader.module.scss?a435","components/Loader/Loader.jsx","webpack://react-movies/./src/components/MovieData/MovieData.module.scss?a91e","components/MovieData/MovieData.jsx","webpack://react-movies/./src/components/Navigation/Navigation.module.scss?a7be","components/Navigation/Navigation.jsx","services/api/movies-api.js","services/status.js","webpack://react-movies/./src/components/ErrorWrapper/ErrorWrapper.module.scss?d06e","components/ErrorWrapper/ErrorWrapper.jsx","webpack://react-movies/./src/components/SearchBar/SearchBar.module.scss?25b4","components/SearchBar/SearchBar.jsx","views/HomeView/HomeView.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"btn\":\"LoadBtn_btn__ZjH7U\",\"btn-anim1\":\"LoadBtn_btn-anim1__YqfTx\",\"btn-anim2\":\"LoadBtn_btn-anim2__XLPQx\",\"btn-anim3\":\"LoadBtn_btn-anim3__F12wB\",\"btn-anim4\":\"LoadBtn_btn-anim4__1AjvJ\"};","import s from \"./LoadBtn.module.scss\";\r\n\r\nexport default function LoadBtn({ onBtnClick }) {\r\n  return (\r\n    <button onClick={onBtnClick} className={s.btn} type=\"button\">\r\n      <span></span>\r\n      <span></span>\r\n      <span></span>\r\n      <span></span>\r\n      Load More\r\n    </button>\r\n  );\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"loaderContainer\":\"Loader_loaderContainer__AIPSh\"};","import CircleLoader from \"react-spinners/CircleLoader\";\r\n\r\nimport s from \"./Loader.module.scss\";\r\n\r\nexport default function Loader() {\r\n  return (\r\n    <div className={s.loaderContainer}>\r\n      <CircleLoader color={\"#9896f1\"} size={100} />\r\n    </div>\r\n  );\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"moviesList\":\"MovieData_moviesList__CwI+f\",\"moviesItem\":\"MovieData_moviesItem__ohZB7\",\"movieCard\":\"MovieData_movieCard__6M+qA\",\"poster\":\"MovieData_poster__zNshO\",\"movieTitle\":\"MovieData_movieTitle__olQ39\",\"vote\":\"MovieData_vote__AsXTQ\",\"voteOverlay\":\"MovieData_voteOverlay__lWDw+\"};","import { Link, useLocation } from \"react-router-dom\";\r\n// import PropTypes from \"prop-types\";\r\nimport noImageFound from \"../../icons/noimage.jpg\";\r\n\r\nimport s from \"./MovieData.module.scss\";\r\n\r\nexport default function MovieData({ movies }) {\r\n  const url = useLocation();\r\n  console.log(url);\r\n  console.log(movies);\r\n\r\n  function getColor(vote) {\r\n    const num = vote.toFixed();\r\n    if (num >= 8) {\r\n      return \"#7dd87d\";\r\n    } else if (num < 8 && num >= 5) {\r\n      return \"#eec60a\";\r\n    } else {\r\n      return \"#eb2632\";\r\n    }\r\n  }\r\n  return (\r\n    <div>\r\n      <ul className={s.moviesList}>\r\n        {movies.map(({ id, poster_path, title, vote_average }) => (\r\n          <li key={id} className={s.moviesItem}>\r\n            <Link to={`${url.pathname}/${id}`}>\r\n              <div className={s.voteOverlay}>\r\n                <p style={{ color: getColor(vote_average) }} className={s.vote}>\r\n                  {vote_average.toFixed()}\r\n                </p>\r\n              </div>\r\n              <img\r\n                src={\r\n                  poster_path\r\n                    ? `https://image.tmdb.org/t/p/w500${poster_path}`\r\n                    : `${noImageFound}`\r\n                }\r\n                alt={title}\r\n                className={s.poster}\r\n              />\r\n\r\n              <div className={s.movieCard}>\r\n                <p className={s.movieTitle}>{title}</p>\r\n              </div>\r\n            </Link>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\n// MovieData.propTypes = {\r\n//   movies: PropTypes.shape,\r\n// };\r\n","// extracted by mini-css-extract-plugin\nexport default {\"linkContainer\":\"Navigation_linkContainer__KaXWq\",\"link\":\"Navigation_link__ImyVo\",\"active\":\"Navigation_active__x+RI1\"};","import { NavLink } from \"react-router-dom\";\r\n\r\nimport s from \"./Navigation.module.scss\";\r\n\r\nexport default function Navigation() {\r\n  return (\r\n    <div className={s.linkContainer}>\r\n      <span className={s.item}>\r\n        <NavLink\r\n          className={({ isActive }) => (isActive ? s.active : s.link)}\r\n          to=\"/trending\"\r\n        >\r\n          Trending Movies\r\n        </NavLink>\r\n      </span>\r\n\r\n      <span className={s.item}>\r\n        <NavLink\r\n          className={({ isActive }) => (isActive ? s.active : s.link)}\r\n          to=\"/upcoming\"\r\n        >\r\n          Upcoming\r\n        </NavLink>\r\n      </span>\r\n    </div>\r\n  );\r\n}\r\n","import axios from \"axios\";\r\n\r\nconst API_KEY = \"a7722589dc29fac056c18bf39b029797\";\r\nconst BASE_URL = \"https://api.themoviedb.org/3/\";\r\n\r\naxios.defaults.baseURL = BASE_URL;\r\naxios.defaults.params = {\r\n  api_key: API_KEY,\r\n  language: \"en-US\",\r\n};\r\n////////////////////////Top_Rated\r\nasync function getPopularMovies() {\r\n  try {\r\n    const config = {\r\n      url: `/movie/popular`,\r\n    };\r\n    const { data } = await axios(config);\r\n\r\n    return data;\r\n  } catch (error) {\r\n    console.log(\"error\", { error });\r\n    return null;\r\n  }\r\n}\r\n//////////////////// Trending\r\nasync function getTrendingMovies() {\r\n  try {\r\n    const config = {\r\n      url: `trending/movie/day`,\r\n    };\r\n    const { data } = await axios(config);\r\n\r\n    return data;\r\n  } catch (error) {\r\n    console.log(\"error\", { error });\r\n    return null;\r\n  }\r\n}\r\n////////////////////// Upcoming\r\nasync function getUpcomingMovies() {\r\n  try {\r\n    const config = {\r\n      url: `/movie/upcoming`,\r\n    };\r\n    const { data } = await axios(config);\r\n\r\n    return data;\r\n  } catch (error) {\r\n    console.log(\"error\", { error });\r\n    return null;\r\n  }\r\n}\r\n///////////////////////// SearchQuery\r\nasync function getMoviesByQuery(query, page) {\r\n  try {\r\n    const config = {\r\n      url: `search/movie`,\r\n      params: {\r\n        query,\r\n        page,\r\n      },\r\n    };\r\n    const { data } = await axios(config, query, page);\r\n\r\n    return data.results;\r\n  } catch (error) {\r\n    console.log(\"error\", { error });\r\n    return null;\r\n  }\r\n}\r\n////////////////////// Single Movie\r\nasync function getMovieById(id) {\r\n  try {\r\n    const config = {\r\n      url: `movie/${id}`,\r\n    };\r\n    const { data } = await axios(config, id);\r\n\r\n    return data;\r\n  } catch (error) {\r\n    console.log(\"error\", { error });\r\n    return null;\r\n  }\r\n}\r\n//////////////////////////// Cast\r\nasync function getCastInfo(id) {\r\n  try {\r\n    const config = {\r\n      url: `movie/${id}/credits`,\r\n    };\r\n    const { data } = await axios(config, id);\r\n\r\n    return data.cast;\r\n  } catch (error) {\r\n    console.log(\"error\", { error });\r\n    return null;\r\n  }\r\n}\r\n////////////////////////////// Trailers\r\nasync function getMovieVideo(id) {\r\n  try {\r\n    const config = {\r\n      url: `movie/${id}/videos`,\r\n    };\r\n    const { data } = await axios(config, id);\r\n\r\n    return data.results;\r\n  } catch (error) {\r\n    console.log(\"error\", { error });\r\n    return null;\r\n  }\r\n}\r\n//////////////////////////// Images\r\nasync function getMovieImages(id) {\r\n  try {\r\n    const config = {\r\n      url: `movie/${id}/images`,\r\n    };\r\n    const { data } = await axios(config, id);\r\n\r\n    return data.results;\r\n  } catch (error) {\r\n    console.log(\"error\", { error });\r\n    return null;\r\n  }\r\n}\r\n\r\nconst api = {\r\n  getPopularMovies,\r\n  getTrendingMovies,\r\n  getUpcomingMovies,\r\n  getMoviesByQuery,\r\n  getMovieById,\r\n  getCastInfo,\r\n  getMovieVideo,\r\n  getMovieImages,\r\n};\r\n\r\nexport default api;\r\n","const Status = {\r\n  IDLE: \"idle\",\r\n  PENDING: \"pending\",\r\n  RESOLVED: \"resolved\",\r\n  REJECTED: \"rejected\",\r\n};\r\n\r\nexport default Status;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"ErrorWrapper_wrapper__0I-pi\",\"title\":\"ErrorWrapper_title__6+4I+\",\"text\":\"ErrorWrapper_text__G+nQD\"};","import s from \"./ErrorWrapper.module.scss\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function ErrorWrapper({ query }) {\r\n  return (\r\n    <div className={s.wrapper}>\r\n      <h2 className={s.title}>Oops!</h2>\r\n\r\n      <p className={s.text}>There are no related movies for \"{query}\".</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nErrorWrapper.propTypes = {\r\n  query: PropTypes.string.isRequired,\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"SearchBar_wrapper__ODPtg\",\"form\":\"SearchBar_form__+-Z-o\",\"search\":\"SearchBar_search__db6Yq\",\"bar\":\"SearchBar_bar__fGQ1J\"};","import { useState } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport s from \"./SearchBar.module.scss\";\r\n\r\nexport default function Searchbar({ onSubmit }) {\r\n  const [query, setQuery] = useState(\"\");\r\n\r\n  const handelQueryChange = (e) => {\r\n    setQuery(e.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (query.trim() === \"\") {\r\n      toast.warn(\"Please, enter your query !\");\r\n      return;\r\n    }\r\n    onSubmit(query);\r\n    setQuery(\"\");\r\n  };\r\n\r\n  return (\r\n    <div className={s.wrapper}>\r\n      <div className={s.form}>\r\n        <form onSubmit={handleSubmit}>\r\n          <input\r\n            className={s.search}\r\n            type=\"text\"\r\n            value={query}\r\n            autoComplete=\"off\"\r\n            placeholder=\"Search ...\"\r\n            onChange={handelQueryChange}\r\n          />\r\n          <span className={s.bar}></span>\r\n          <div className={s.serach}></div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n","import { useState, useEffect } from \"react\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\n\r\nimport Status from \"../../services/status\";\r\nimport api from \"../../services/api/movies-api\";\r\n\r\nimport Container from \"../../components/Container/Container\";\r\nimport Loader from \"../../components/Loader/Loader\";\r\nimport LoadBtn from \"../../components/LoadBtn/LoadBtn\";\r\nimport MovieData from \"../../components/MovieData/MovieData\";\r\nimport ErrorWrapper from \"../../components/ErrorWrapper/ErrorWrapper\";\r\nimport Navigation from \"../../components/Navigation/Navigation\";\r\nimport SearchBar from \"../../components/SearchBar/SearchBar\";\r\n\r\nfunction HomePage() {\r\n  const history = useNavigate();\r\n  const { search } = useLocation();\r\n\r\n  const [query, setQuery] = useState(\"\");\r\n  const [movies, setMovies] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const [status, setStatus] = useState(Status.IDLE);\r\n\r\n  /////Popular Movies\r\n  useEffect(() => {\r\n    setStatus(Status.PENDING);\r\n\r\n    api\r\n      .getPopularMovies()\r\n      .then(({ results }) => {\r\n        setMovies(results);\r\n\r\n        setStatus(Status.RESOLVED);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        setError(error);\r\n        setStatus(Status.REJECTED);\r\n      });\r\n  }, [error]);\r\n\r\n  //////////Search Query\r\n\r\n  const handleFormSubmit = (newQuery) => {\r\n    if (newQuery === query) return;\r\n\r\n    setQuery(newQuery);\r\n    setMovies(null);\r\n    setStatus(Status.IDLE);\r\n\r\n    history.push({ search: `query=${newQuery}` });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (search === \"\") {\r\n      return;\r\n    }\r\n\r\n    const newSearch = new URLSearchParams(search).get(\"query\");\r\n    setQuery(newSearch);\r\n  }, [search]);\r\n\r\n  useEffect(() => {\r\n    if (!query) return;\r\n\r\n    setStatus(Status.PENDING);\r\n\r\n    api\r\n      .getMoviesByQuery(query)\r\n      .then((results) => {\r\n        if (results.length === 0) {\r\n          setStatus(Status.REJECTED);\r\n          return;\r\n        }\r\n\r\n        setMovies(results);\r\n        setStatus(Status.RESOLVED);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        setError(error);\r\n        setStatus(Status.REJECTED);\r\n      });\r\n  }, [query, error]);\r\n\r\n  return (\r\n    <main>\r\n      <Container>\r\n        <SearchBar onSubmit={handleFormSubmit} />\r\n        <Navigation />\r\n\r\n        {status === Status.PENDING && <Loader />}\r\n\r\n        {status === Status.REJECTED && <ErrorWrapper query={query} />}\r\n\r\n        {status === Status.RESOLVED && (\r\n          <>\r\n            <MovieData movies={movies} />\r\n            <LoadBtn />\r\n          </>\r\n        )}\r\n      </Container>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default HomePage;\r\n"],"names":["LoadBtn","onBtnClick","onClick","className","s","type","Loader","color","size","MovieData","movies","url","useLocation","getColor","vote","num","toFixed","console","log","map","id","poster_path","title","vote_average","to","pathname","style","src","noImageFound","alt","Navigation","isActive","config","axios","data","error","query","page","params","results","cast","getMovieImages","api_key","language","api","getPopularMovies","getTrendingMovies","getUpcomingMovies","getMoviesByQuery","getMovieById","getCastInfo","getMovieVideo","IDLE","PENDING","RESOLVED","REJECTED","ErrorWrapper","Searchbar","onSubmit","useState","setQuery","e","preventDefault","trim","toast","value","autoComplete","placeholder","onChange","target","toLowerCase","history","useNavigate","search","setMovies","setError","Status","status","setStatus","useEffect","then","catch","newSearch","URLSearchParams","get","length","Container","newQuery","push"],"sourceRoot":""}